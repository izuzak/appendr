{% extends "base.html" %}
{% block title %}Bin info{% endblock %}
{% block content %}
  <div class="container">
  <h3> Bin info </h3>

  <p>
    <div class="row">
      <div class="span2"><b>Bin id:</b></div>
      <div>{{ bins.bin_id }}</div>
    </div>

    <div class="row">
      <div class="span2"><b>Date created</b>:</div>
      <div> {{ bins.date_created }} </div>
    </div>

    <div class="row">
      <div class="span2"><b>Date updated</b>:</div>
      <div> {{ bins.date_updated }} </div>
    </div>

    <div class="row">
      <div class="span2"><b>Output format</b>:</div>
      <div> {{ bins.output_format }} </div>
    </div>

    <div class="row">
      <div class="span2"><b>Datetime format</b>:</div>
      <div> {{ bins.datetime_format }} </div>
    </div>

    <div class="row">
      <div class="span2"><b>Storage backend</b>:</div>
      <div> {{ bins.storage_backend }} </div>
    </div>

    {% if bins.is_public is defined %}

    <div class="row">
      <div class="span2"><b>Public gist</b>:</div>
      <div> {{ bins.is_public }} </div>
    </div>

    {% endif %}

    {% if bins.filename is defined %}

    <div class="row">
      <div class="span2"><b>Filename</b>:</div>
      <div> {{ bins.filename }} </div>
    </div>

    {% endif %}

    {% if bins.gist_api_url is defined %}

    <div class="row">
      <div class="span2"><b>Gist API URL</b>:</div>
      <div> <a target="_blank" href="{{ bins.gist_api_url }}">{{ bins.gist_api_url }}</a> </div>
    </div>

    {% endif %}

    {% if bins.repo is defined %}

    <div class="row">
      <div class="span2"><b>GitHub repository</b>:</div>
      <div> <a target="_blank" href="https://github.com/{{bins.repo}}">{{ bins.repo }}</a> </div>
    </div>

    {% endif %}

    {% if bins.repo_api_url is defined %}

    <div class="row">
      <div class="span2"><b>Repo file API URL</b>:</div>
      <div> <a target="_blank" href="{{ bins.repo_api_url }}">{{ bins.repo_api_url }}</a> </div>
    </div>

    {% endif %}

    <div class="row">
      <div class="span2"><b>Content URL (raw)</b>:</div>
      <div> <a target="_blank" href="{{ bins.content_raw_url }}">{{ bins.content_raw_url }}</a> </div>
    </div>

    <div class="row">
      <div class="span2"><b>Content URL (html)</b>:</div>
      <div> <a target="_blank" href="{{ bins.content_html_url }}">{{ bins.content_html_url }}</a> </div>
    </div>

    <div class="row">
      <div class="span2"><b>Append tasks URL</b>:</div>
      <div> <a href="{{ bins.tasks_url }}">{{ bins.tasks_url }}</a> </div>
    </div>
  </p>

  <h3> Recent append tasks </h3>

  <table class="table table-striped table-bordered table-hover table-condensed">
    <thead>
      <tr>
        <th>#</th>
        <th>Task ID</th>
        <th>Date created</th>
        <th>Date updated</th>
        <th>Status</th>
        <th>Status message</th>
      </tr>
    </thead>
    <tbody>
      {% for task in bins.tasks %}
      <tr>
        <td>{{ loop.index }}</td>
        <td><a href="{{ task.task_url }}">{{ task.task_id }}</a></td>
        <td>{{ task.date_created }}</td>
        <td>{{ task.date_updated }}</td>
        <td>{{ task.status }}</td>
        <td>{{ task.status_msg }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <form class="form-inline" method="post" action="{{bins.bin_url}}">
    <input name="key" type="hidden" value="value">
    <button class="btn">Append fake data</button>
  </form>

  </div>
{% endblock %}

{% block header %}
            <header class="header-other">
              <h1 class="title-other">
                <a href="/">Appendr</a>
              </h1>
            </header>
{% endblock %}

{% block footer %} {{ super() }} {% endblock %}

{% block scripts %}
{% endblock %}
